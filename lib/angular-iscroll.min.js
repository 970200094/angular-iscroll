/**
 * @license angular-iscroll v2.0.1, 2016-01-22T22:05:53+0100
 * (c) 2016 Martin Thorsen Ranang <mtr@ranang.org>
 * License: MIT
 */
!function(e,r){"function"==typeof define&&define.amd?define(["iscroll","platform"],r):"object"==typeof exports?module.exports=r(require("iscroll"),require("platform")):e.angularIscroll=r(e.IScroll,e.platform)}(this,function(e,r){"use strict";function n(){var e=r.os.version.match(/(\d+).(\d+).?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}function l(){return"Chrome Mobile"===r.name}function i(){if("Opera Mini"===r.name)return!1;switch(r.os.family){case"Android":return l();case"iOS":return n()[0]>v;default:return!0}}function o(e){return e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function t(){function e(e){angular.isDefined(e.directive)&&angular.extend(l.directive,e.directive),angular.isDefined(e.iScroll)&&angular.extend(l.iScroll,e.iScroll)}function r(){return l}function n(e,r){function n(n){n||(c.useIScroll=!1),e.$emit(r.disabled)}function i(n){n||(c.useIScroll=!0),e.$emit(r.enabled)}function o(e){c.useIScroll^e?n(e):i(e)}function t(n){e.$emit(r.refresh,n)}var c={useIScroll:l.directive.initiallyEnabled};return{defaults:l,state:c,enable:i,disable:n,toggle:o,refresh:t}}var l={iScroll:{momentum:!0,mouseWheel:!0},directive:{initiallyEnabled:!S,asyncRefreshDelay:0,refreshInterval:!1,invokeApply:!1}};angular.forEach(d,function(e,r){this[r]=void 0},l.directive),this.useNativeScroll=S,this.configureDefaults=e,this.getDefaults=r,n.$inject=["$rootScope","iScrollSignals"],this.$get=n}function c(e){e()}function a(r,n,l,i,o){function t(e,r){n(function(){e.refresh()},r.directive.asyncRefreshDelay,r.directive.invokeApply)}function a(n,o,a,s){function f(){null!==m&&l.cancel(m),angular.isDefined(n.iscrollInstance)&&delete n.iscrollInstance,g.destroy(),o.removeClass(u.on).addClass(u.off),o.children(".iscroll-scroller").attr("style",null),angular.forEach(y,c)}function v(){p&&(p=!1,t(g,s),p=!0)}function S(){p=!1}function h(){p=!0}var g=new e(o[0],s.iScroll),p=!0,m=null;angular.forEach(d,function(e,r){angular.isDefined(s.directive[r])&&g.on(e,s.directive[r])}),o.removeClass(u.off).addClass(u.on),angular.isDefined(a.iscrollInstance)&&(n.iscrollInstance=g),s.directive.asyncRefreshDelay!==!1&&t(g,s),g.on("scrollStart",S),g.on("scrollEnd",h),s.directive.refreshInterval!==!1&&(m=l(v,s.directive.refreshInterval,0,s.directive.invokeApply));var y=[r.$on(i.disabled,f),r.$on(i.refresh,v),n.$on("$destroy",f)];return g}function s(e,n,l){function t(){n.hasClass(u.on)||a(e,n,l,f)}function s(){angular.forEach(v,c)}var f={iScroll:angular.extend({},e.iscroll||{},o.defaults.iScroll),directive:angular.extend({},o.defaults.directive)};angular.forEach(f.iScroll,function(e,r){(o.defaults.directive.hasOwnProperty(r)||d.hasOwnProperty(r))&&(f.directive[r]=e,delete f.iScroll[r])});var v=[r.$on(i.enabled,t)];o.state.useIScroll?t():n.removeClass(u.on).addClass(u.off),e.$on("$destroy",s)}return{restrict:"A",link:s,scope:{iscroll:"=",iscrollInstance:"="}}}var s={disabled:"iscroll:disabled",enabled:"iscroll:enabled",refresh:"iscroll:refresh"},u={on:"iscroll-on",off:"iscroll-off"},f=["beforeScrollStart","scrollCancel","scrollStart","scroll","scrollEnd","flick","zoomStart","zoomEnd"],d={},v=7,S=i();return angular.forEach(f,function(e){this["on"+o(e)]=e},d),a.$inject=["$rootScope","$timeout","$interval","iScrollSignals","iScrollService"],angular.module("angular-iscroll",[]).directive("iscroll",a).provider("iScrollService",t).constant("iScrollSignals",s)});